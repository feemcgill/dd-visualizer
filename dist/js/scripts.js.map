{"version":3,"sources":["audio/_playlist.js","audio/_visualize.js","util/shuffleArray.js","visual/index.js"],"names":["debug","$","document","ready","dbg","text","show","ddTracks","testTracks","tracks","trackIndex","audioKicking","autioInitiated","playCount","audioContext","usingWebAudio","analyser","bufferLength","dataArray","viZdata","trackBuffer","trackSource","nextTrack","audioSrc","url","window","fetch","then","response","arrayBuffer","decodeAudioData","audioBuffer","console","error","catch","exception","append","hide","length","updateTicker","tickerText","playingIndex","play","buffer","createBufferSource","connect","onended","event","start","swapTextures","snakeIntro","initAudio","callback","AudioContext","webkitAudioContext","e","createAnalyser","destination","fftSize","frequencyBinCount","Uint8Array","muted","click","state","resume","preventDefault","remove","disconnect","shuffleArray","array","currentIndex","temporaryValue","randomIndex","Math","floor","random","mapRange","num","in_min","in_max","out_min","out_max","count","snakeSegsReverse","snakesReady","videoSprite","snakeSegs","bgVidSprite","vidTex","vidTex2","logo","bigRect","nowPLayingTicker","TweenMax","to","x","ease","Linear","easeNone","onComplete","app","renderer","width","alpha","i","height","delay","snakeCenter","y","setTexture","texture","setTimeout","PIXI","Application","innerWidth","innerHeight","backgroundColor","body","appendChild","view","loader","add","load","resources","Texture","fromVideo","baseTexture","source","loop","Graphics","beginFill","drawRect","endFill","interactive","ww","wh","wwH","whH","tunnelOffset","logoOffset","on","staggerTo","data","global","Sprite","screen","stage","addChild","funCont","snakeLength","fun","funmask","drawCircle","anchor","finalScale","push","reverse","scale","Text","fontFamily","fontSize","fill","align","blendMode","BLEND_MODES","ADD","mask","ticker","r","getByteFrequencyData","getWindowSize","wWidth","wHeight","sizeIt","size","w","h","style","resize","sr","debounce","func","threshold","execAsap","timeout","debounced","obj","args","arguments","delayed","apply","clearTimeout","jQuery","fn","bind","trigger","smartresize"],"mappings":"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","file":"scripts.js","sourcesContent":["import shuffle from './../util/shuffleArray';\nconst debug = false;\n\n$(document).ready(function(){\n  dbg = $('.debug');\n  dbg.text('debugg');\n  if (debug) {\n    dbg.show();\n  }\n});\n\nconst ddTracks = [\n  {\n    'text' : 'A Place To Bury Strangers - Never Coming Back',\n    'url' : 'A+Place+To+Bury+Strangers+-+Never+Coming+Back.mp3'\n  },\n  {\n    'text' : 'All Them Witches - Alabaster',\n    'url' : 'All+Them+Witches+-+Alabaster.mp3'\n  },\n  {\n    'text' : 'CHELSEA WOLFE - Offering',\n    'url' : 'CHELSEA+WOLFE+-+Offering.mp3'\n  },\n  {\n    'text' : 'Can -  Little Star of Bethlehem',\n    'url' : 'Can+-++Little+Star+of+Bethlehem.mp3'\n  },\n  {\n    'text' : 'Connan Mockasin - It_s Choade My Dear',\n    'url' : 'Connan+Mockasin+-+It_s+Choade+My+Dear.mp3'\n  },\n  {\n    'text' : 'Cut Worms - Cash for Gold',\n    'url' : 'Cut+Worms+-+Cash+for+Gold.mp3'\n  },\n  {\n    'text' : 'DakhaBrakha - Kolyskova',\n    'url' : 'DakhaBrakha+-+Kolyskova.mp3'\n  },\n  {\n    'text' : 'Death Grips - Eh',\n    'url' : 'Death+Grips+-+Eh.mp3'\n  },\n  {\n    'text' : 'Ex-Cult - New Face On',\n    'url' : 'Ex-Cult+-+New+Face+On.mp3'\n  },\n  {\n    'text' : 'Gladys Lazer - SW Georgia',\n    'url' : 'Gladys+Lazer+-+SW+Georgia.mp3'\n  },\n  {\n    'text' : 'Here Lies Man - I stand Alone',\n    'url' : 'Here+Lies+Man+-+I+stand+Alone.mp3'\n  },\n  {\n    'text' : 'Kevin Morby - Tin Can',\n    'url' : 'Kevin+Morby+-+Tin+Can.mp3'\n  },\n  {\n    'text' : 'Kikagaku Moyo - Green Sugar',\n    'url' : 'Kikagaku+Moyo+-+Green+Sugar.mp3'\n  },\n  {\n    'text' : 'King Khan _ The Shrines - I Wanna Be a Girl',\n    'url' : 'King+Khan+_+The+Shrines+-+I+Wanna+Be+a+Girl.mp3'\n  },\n  {\n    'text' : 'Mary Lattimore - Hello From the Edge of the Earth',\n    'url' : 'Mary+Lattimore+-+Hello+From+the+Edge+of+the+Earth.mp3'\n  },\n  {\n    'text' : 'Mercury Rev - Opus 40',\n    'url' : 'Mercury+Rev+-+Opus+40.mp3'\n  },\n  {\n    'text' : 'Pond - Paint Me Silver',\n    'url' : 'Pond+-+Paint+Me+Silver.mp3'\n  },\n  {\n    'text' : 'Preoccupations - Zodiac',\n    'url' : 'Preoccupations+-+Zodiac.mp3'\n  },\n  {\n    'text' : 'Sextile - Ripped',\n    'url' : 'Sextile+-+Ripped.mp3'\n  },\n  {\n    'text' : 'Shannon _ The Clams - I Leave Again',\n    'url' : 'Shannon+_+The+Clams+-+I+Leave+Again.mp3'\n  },\n  {\n    'text' : 'The Holydrug Couple - If I Could Find You (Eternity)',\n    'url' : 'The+Holydrug+Couple+-+If+I+Could+Find+You+(Eternity).mp3'\n  },\n  {\n    'text' : 'Tropa Magica - LSD Roma',\n    'url' : 'Tropa+Magica+-+LSD+Roma.mp3'\n  },\n  {\n    'text' : 'True Widow - Skull Eyes',\n    'url' : 'True+Widow+-+Skull+Eyes.mp3'\n  },\n  {\n    'text' : 'Ty Segall -  Every 1_s a Winner',\n    'url' : 'Ty+Segall+-++Every+1_s+a+Winner.mp3'\n  },\n  {\n    'text' : 'Ulrika Spacek - Ornament',\n    'url' : 'Ulrika+Spacek+-+Ornament.mp3'\n  },\n  {\n    'text' : 'Warpaint - Above Control',\n    'url' : 'Warpaint+-+Above+Control.mp3'\n  },\n  {\n    'text' : 'White Fence - To the Boy I Jumped in the Hemlock Alley',\n    'url' : 'White+Fence+-+To+the+Boy+I+Jumped+in+the+Hemlock+Alley.mp3'\n  }\n]\n\n\nconst testTracks = [\n  {\n    'url': '1.mp3'\n  },\n  {\n    'url': '2.mp3'\n  },\n  {\n    'url': '3.mp3'\n  }\n]\n\nlet dbg = null;\n\n\n\nconst tracks = shuffle(ddTracks);\nlet trackIndex = 0;\nlet audioKicking = false;\nlet autioInitiated = false;\nlet playCount = 0;\nlet audioContext = null;\nlet usingWebAudio = true;\nlet analyser = null;\nlet bufferLength = null;\nlet dataArray = null;\nlet viZdata;\nlet trackBuffer;\nlet trackSource;\n\nfunction nextTrack(){\n  audioKicking = false;\n  const audioSrc = '//s3-us-west-2.amazonaws.com/ddaze-visualizer/dd18mix/'+tracks[trackIndex].url;\n\n  window.fetch(audioSrc)\n  .then(response => response.arrayBuffer())\n  .then(arrayBuffer => audioContext.decodeAudioData(arrayBuffer, \n    audioBuffer => {\n      trackBuffer = audioBuffer;\n    }, \n    error => \n      console.error(error)\n    )\n  )\n  .catch((exception) => {\n    console.error('oh noes!', exception)\n    dbg.append('<div>EXCEPTION</div>');\n    dbg.append(exception);\n  })    \n  .then(function(){\n    if (!audioKicking) {\n      audioKicking = true;\n      $('.loading').hide();\n      $('.play-it').show();\n    };\n    dbg.append('<div>Next Track Loaded</div>');\n    trackIndex = (trackIndex + 1) % tracks.length;  \n  });\n\n}\n\nfunction updateTicker(text){\n  tickerText.text =  'NOW PLAYING: ' + text;  \n}\n\nlet playingIndex = 0\nfunction play(audioBuffer) {\n  if (autioInitiated) {\n    trackSource.buffer = null;\n  }\n  trackSource = audioContext.createBufferSource();\n  trackSource.buffer = audioBuffer;\n  trackSource.connect(analyser);\n  trackSource.onended = function(event) {\n    // Play the next track once this one has ended.. Assumes trackBuffer has been updated to the next track via nextTrack();\n    // TODO: test to see if the next track is indeed ready to play.\n    play(trackBuffer);\n  }    \n  trackSource.start();\n  dbg.append('<div>Playing New Track</div>');\n  autioInitiated = true;\n  \n  // Visual stuff\n  if (playCount > 0) {\n    swapTextures();\n  } else {\n    snakeIntro();    \n  }\n  updateTicker(tracks[playingIndex].text);\n\n  playingIndex = (playingIndex + 1) % tracks.length;  \n  playCount++;\n  nextTrack();\n}\n\n\n\nfunction initAudio(callback){\n  try {\n    if (typeof AudioContext !== 'undefined') {\n        audioContext = new AudioContext();\n    } else if (typeof webkitAudioContext !== 'undefined') {\n        audioContext = new webkitAudioContext();\n    } else {\n        usingWebAudio = false;\n    }\n  } catch(e) {\n      usingWebAudio = false;\n  }\n  analyser = audioContext.createAnalyser();\n  analyser.connect(audioContext.destination);\n  analyser.fftSize = 32;\n  bufferLength = analyser.frequencyBinCount; \n  dataArray = new Uint8Array(bufferLength);\n  callback();\n}\n\ninitAudio(nextTrack);\n\n\n\nlet muted = false;\n$('.play-it').click(function(e){\n  if (usingWebAudio && audioContext.state === 'suspended') {\n    audioContext.resume();\n  }  \n  e.preventDefault();\n  play(trackBuffer);\n  if (!debug) {\n    dbg.append(usingWebAudio, audioContext.state);\n    $('.loading-screen').remove();    \n  }\n});\n\n$('.mute-toggle').click(function(){\n  if (muted) {\n    trackSource.connect(analyser);\n    $(this).text('mute');\n  } else {\n    trackSource.disconnect();\n    $(this).text('unmute');\n  }\n  muted = !muted;\n});\n\n","","const shuffleArray = function(array) {\n  var currentIndex = array.length, temporaryValue, randomIndex;\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n  return array;\n}\n\nexport default shuffleArray;","function mapRange (num, in_min, in_max, out_min, out_max) {\n    return (num - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n}\n\nlet count = 0;\nlet tickerText = '';\nlet snakeSegsReverse;\nlet snakesReady = false;\nlet videoSprite;\nlet snakeSegs;\nlet bgVidSprite;\nlet vidTex;\nlet vidTex2;\nlet logo;\nlet bigRect;\n\nfunction nowPLayingTicker(){\n    TweenMax.to(tickerText, 30, {x: -2000, ease:Linear.easeNone, onComplete: function(){\n        tickerText.x = app.renderer.width;\n        nowPLayingTicker();\n    }} )\n}\n\nfunction snakeIntro(){\n    nowPLayingTicker();\n    TweenMax.to(logo, 5, {alpha: 1});\n    for (let i = 0; i < snakeSegs.length; i++) {\n        TweenMax.to(snakeSegs[i], 10, {width: app.renderer.width * ((i + 1) / snakeSegs.length), height: app.renderer.height * ((i + 1) / snakeSegs.length), delay: i * 0.7, \n            onComplete: function(){\n                if (i+1 == snakeSegs.length) {\n                    snakesReady = true;\n                }\n            }\n        })\n    }\n}\n\nfunction snakeCenter(){\n    for (let i = 0; i < snakeSegs.length; i++) {\n        TweenMax.to(snakeSegs[i], .1, {\n            width: app.renderer.width * ((i + 1) / snakeSegs.length), \n            height: app.renderer.height * ((i + 1) / snakeSegs.length),\n            x: app.renderer.width / 2,\n            y: app.renderer.height / 2,\n            delay: i * 0.1,\n        })\n    }\n}\n\n\nfunction swapTextures() {\n    videoSprite.setTexture(videoSprite.texture == vidTex ? vidTex2 : vidTex);\n    for (let i = 0; i < snakeSegs.length; i++) {\n        setTimeout(() => {\n            snakeSegs[i].setTexture(snakeSegs[i].texture == vidTex ? vidTex2 : vidTex);\n            if (i+1 == snakeSegs.length) {\n                setTimeout(() => {\n                    bgVidSprite.setTexture(bgVidSprite.texture == vidTex ? vidTex2 : vidTex);\n                }, 100);\n            }\n        }, 100 * i);\n    }        \n};\n\n\nconst app = new PIXI.Application({\n    width: window.innerWidth,\n    height: window.innerHeight,\n    backgroundColor : 0xFFFFFF\n});\n\ndocument.body.appendChild(app.view);\n\nPIXI.loader.add('fun', 'img/logo.png').load((loader, resources) => {\n\n\n    vidTex = new PIXI.Texture.fromVideo('vid/vid1-w.mp4');\n    //vidTex = new PIXI.Texture.fromImage('img/rg.jpg');    \n    vidTex.baseTexture.source.loop = true;\n    vidTex.baseTexture.source.muted = true;\n\n    vidTex2 = new PIXI.Texture.fromVideo('vid/froth-2.mp4');\n    //vidTex2 = new PIXI.Texture.fromImage('img/rg.jpg');\n    vidTex2.baseTexture.source.loop = true;\n    vidTex2.baseTexture.source.muted = true;\n\n\n    bigRect = new PIXI.Graphics();\n    bigRect.beginFill(0xffffff, 1);\n    bigRect.drawRect(0, 0, window.innerWidth, window.innerHeight);\n    bigRect.endFill();\n    bigRect.alpha = 0.0;\n    bigRect.interactive = true;\n\n    let ww = app.renderer.width;\n    let wh = app.renderer.height;\n    let wwH = ww/2;\n    let whH = wh/2;\n    let tunnelOffset = 170;\n    let logoOffset = 10;\n    bigRect.on('mousemove', function (event) {\n        const e = event;\n        //TweenMax.to(thing, 2, { x: e.data.global.x, y: e.data.global.y });\n        if (snakesReady) {\n            TweenMax.staggerTo(snakeSegsReverse, 10, { x: mapRange(e.data.global.x, 0, app.renderer.width, wwH-tunnelOffset, wwH+tunnelOffset), y: mapRange(e.data.global.y, 0, app.renderer.height, whH-tunnelOffset, whH+tunnelOffset) }, .15);            \n        }\n\n        // const logoX = mapRange(e.data.global.x, 0, app.renderer.width, wwH+logoOffset, wwH-logoOffset);\n        // const logoY = mapRange(e.data.global.y, 0, app.renderer.height, whH+logoOffset, whH-logoOffset);\n        // TweenMax.to(logo, 2, {x:logoX, y:logoY});\n    });\n\n\n\n    bigRect.on('click', function (event) {\n        swapTextures()\n    });\n\n    bgVidSprite = new PIXI.Sprite(vidTex);\n    bgVidSprite.width = app.screen.width;\n    bgVidSprite.height = app.screen.height;\n    app.stage.addChild(bgVidSprite);\n\n\n    videoSprite = new PIXI.Sprite(vidTex2);\n    videoSprite.width = app.screen.width;\n    videoSprite.height = app.screen.height;\n\n    // var thing = new PIXI.Graphics();\n    // app.stage.addChild(thing);\n    // thing.position.x = app.screen.width / 2;\n    // thing.position.y = app.screen.height / 2;\n    // thing.lineStyle(0);    \n    // videoSprite.mask = thing;\n\n\n\n    const funCont = new PIXI.Sprite();\n    app.stage.addChild(funCont);\n  \n     snakeSegs = [];\n     const snakeLength = 6;\n     for (let i = snakeLength; i > 0; i--) {\n         const fun = new PIXI.Sprite(vidTex);\n         const funmask = new PIXI.Graphics();\n         funmask.beginFill(0xFF3300);\n         funmask.drawCircle(0,0,100);\n         funmask.endFill();\n         // Setup the position of the fun\n         fun.x = app.renderer.width / 2;\n         fun.y = app.renderer.height / 2;\n        //  fun.x = i / snakeLength;\n        //  fun.y = i / snakeLength;\n         // Rotate around the center\n         fun.anchor.x = 0.5;\n         fun.anchor.y = 0.5;\n \n         fun.width = app.renderer.width;\n         fun.height = app.renderer.height;\n         fun.finalScale = 5*(i / snakeLength);\n        fun.width = 0\n        fun.height = 0;\n        // fun.scale.x = 0;\n        // fun.scale.y = 0;\n\n         fun.alpha = 0.9;        \n         snakeSegs.push(fun);\n         //fun.addChild(funmask);\n         //fun.mask = funmask;\n         funCont.addChild(fun);\n     }\n\n   \n     snakeSegsReverse = snakeSegs.reverse();\n\n\n    logo = new PIXI.Sprite(resources.fun.texture);\n    logo.x = app.renderer.width / 2;\n    logo.y = app.renderer.height / 2;\n    logo.scale.x = 0;\n    logo.scale.y = 0;\n    logo.anchor.x = 0.5;\n    logo.anchor.y = 0.5;\n    logo.alpha = 0;\n    app.stage.addChild(logo);\n\n\n    tickerText = new PIXI.Text('',{fontFamily : 'SerifGothicStd-Bold', fontSize: 36, fill : 0x666666, align : 'left'});\n    app.stage.addChild(tickerText);\n    tickerText.x = app.renderer.width / 2;\n    tickerText.y = app.renderer.height - 50;\n    tickerText.blendMode = PIXI.BLEND_MODES.ADD;\n    tickerText.x = app.renderer.width;\n   \n    app.stage.addChild(videoSprite);\n\n    videoSprite.mask = logo;\n    \n\n\n\n\n\n\n\n    // const analJamCont = new PIXI.Sprite();\n    // app.stage.addChild(analJamCont);\n    // // analJamCont.anchor.x = 0.5;\n    // // analJamCont.anchor.y = 0.5;\n    // analJamCont.x = 100;\n    // analJamCont.y = 100;\n    // const analShapes = [];\n    // for (let i = 0; i < 4; i++) {\n    //     for (let j = 0; j < 4; j++) {\n    //         const fun = new PIXI.Sprite();\n    //         fun.width = 40;\n    //         fun.height = 40;\n    //         const funmask = new PIXI.Graphics();\n    //         funmask.beginFill(0xffffff);\n    //         funmask.drawCircle(0,0,1);\n    //         funmask.endFill();\n    //         // Setup the position of the fun\n    //         fun.x = 100 * i;\n    //         fun.y = 100 * j;\n    //         fun.x = ww * i / 4;\n    //         fun.y = wh * j / 4;\n    //         fun.alpha = 0.7;        \n    //         analShapes.push(fun);\n    //         fun.addChild(funmask);\n    //         //fun.mask = funmask;\n    //         //analJamCont.addChild(fun);            \n            \n    //     }        \n    // }\n\n\n    app.stage.addChild(bigRect);\n\n\n    app.ticker.add(() => {\n        count += 0.01;\n        // thing.clear();\n        // thing.beginFill(0x8bc5ff, 0.4);\n        //thing.drawCircle(0 + Math.cos(count)* 20, 0 + Math.sin(count)* 20, 440 + Math.sin(count)* 400);\n        //thing.drawCircle(200, 200, 200);\n       \n\n        if (audioKicking) {\n            //thing.drawCircle(100, 100, dataArray[10]);\n\n            let r = mapRange(dataArray[10], 0, 255, 0.1, 0.3);\n\n            analyser.getByteFrequencyData(dataArray);            \n            logo.scale.x = r;\n            logo.scale.y = r;\n            // for (let i = 0; i < analShapes.length; i++) {\n            //     const e = analShapes[i];\n            //     e.scale.x = dataArray[i];\n            //     e.scale.y = dataArray[i];                \n            // }\n \n        }\n    });\n});\n// var canvas = document.createElement('canvas');\n// var texture = PIXI.Texture.fromCanvas(canvas);\n// var spriteMask = new PIXI.Texture(texture);\n// mySprite.mask = spriteMask;\n\n\nfunction getWindowSize(){\n\tconst wWidth = window.innerWidth;\n    const wHeight = window.innerHeight;\n    const data = {\n        width: wWidth,\n        height: wHeight\n    };\n    return data;\n}\n\nfunction sizeIt() {\n\tconst size = getWindowSize();\n\t\n\tconst w = size.width;\n\tconst h = size.height;\n\n\tapp.renderer.view.style.width = w + \"px\";    \n\tapp.renderer.view.style.height = h + \"px\";      \n\tapp.renderer.resize(w,h);\n\n    // bigRect.width = w;\n    // bigRect.height = h;\n    bgVidSprite.width = w;\n    bgVidSprite.height = h;\n    videoSprite.width = w;\n    videoSprite.height = h;\n\n    logo.x = w / 2;\n    logo.y = h / 2;\n\n    tickerText.y = h - 50;\n    \n    snakeCenter();\n\t// gameContainer.x = ((renderer.width - cWidth)/2);\n\t// gameContainer.y = (renderer.height - cHeight)/2;\n\n\t// if (rewardOnScreen) {\t\t\n\t// \tspiralContainer.x = (renderer.width/2);\n\t// \tspiralContainer.y = (renderer.height/2);\n\t// \tswampFrameSize();\n\t// \tmirrorJamSize();\n\t// \tcoverJamSize();\n\t// }\n\n\t// if (waterOnScreen) {\n\t// \twaterSprite.height = renderer.height;\n\t// \twaterSprite.width = renderer.width;\n\t// \twaterSprite.x = renderer.width/2;\n\t// \twaterSprite.y = renderer.height/2;\t\t\t\n\t// }\t\n}\n\n//sizeIt();\n\n(function($,sr){\n\n  var debounce = function (func, threshold, execAsap) {\n      var timeout;\n\n      return function debounced () {\n          var obj = this, args = arguments;\n          function delayed () {\n              if (!execAsap)\n                  func.apply(obj, args);\n              timeout = null; \n          };\n\n          if (timeout)\n              clearTimeout(timeout);\n          else if (execAsap)\n              func.apply(obj, args);\n\n          timeout = setTimeout(delayed, threshold || 50); \n      };\n  }\n    // smartresize \n    jQuery.fn[sr] = function(fn){  return fn ? this.bind('resize', debounce(fn)) : this.trigger(sr); };\n\n})(jQuery,'smartresize');\n\n\njQuery(window).smartresize(function(){  \n\tsizeIt();\n}); \n"]}